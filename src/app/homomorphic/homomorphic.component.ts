import { Component } from '@angular/core';
import { FormsModule } from '@angular/forms';
import { HttpClient, HttpHeaders } from '@angular/common/http';

@Component({
  selector: 'app-homomorphic',
  standalone: true,
  imports: [
    FormsModule
  ],
  templateUrl: './homomorphic.component.html',
  styleUrl: './homomorphic.component.css'
})
export class HomomorphicComponent {

  public_key = ""
  enc_val = ""

  constructor(private http: HttpClient) { }

  submit() {

    let api_key = "rSxnSS5RnZ4HqW1lxzY1T8py4F0hYoLH9sVFTqHI"

      const body = {
        "public_key": {
            "n": "3151462948655032281860958814717958721395162451250977667477767733424371879973722231396302305235599068985788605011138014169383150384243379181067204989115194227998986504009145171533002112511770048169425282575303711322637104992441463926147733584751994305665299104925531123763208600459724064682756400415349675634053097861184895465334007575402874868411096253029416474088686697440681097406019636437805749187782293799734778885691688921900288831484837222852587495797453337727574214033760662561241995901824440710470021266448795024629645862115124643061633736858288140456787271467966117151328493085429638346169822707466318511490039235128172470177361967717737941372528377635889136291292090001739794342070638609965641758763592323063008645258173987252049045492601167526384620187725735984855996192342064227056393219020896058026102649538859272863644647639893629367587885437976470391047917514446369668594788600368255214049922997715618857517081"
        },
        "values": [
            [
                "358975424274633812699427501103587634717322213947810973824070018097775257726205753798708530816622619310341556627965673318282333568627113954484260150387897755285405203557658165606089974391251311317439245518288665902669444416512070472809690385580036462502437051920583720776726374660137312476231424815413661875317294018515000911029898796321188030556414051857355863888667566603843790330373889296924447620733883551176909732414514025186213354578164669197093346461285754028612974708799549424403187960770035312701862445581280285842663762604402365220457199070125516911614821850136499432338268406884778454709529851017803887869289968833958626862284792905237953701292211729974862316477551057913328995441971807948331989715524865124122933339855225767116851119676047325158709366615942133978482960418824688167359379564191051005474348928651976346555307003100940186163893303668963627871017633250516030608201935851739154471403872942481072442748701795455454021058766436060591678877367820321506509439213124022108105559701815664802174840672870302247122650104247302972307958325071845077132064993050739015443474304311536325553502731865048198467559678086622690903749248555636082899566973306218240212839903155523172381434665061470417520404207892363831550552081989046527989901302340339398186779576319994260200510196293476400435314062157210445880683143255272660113130636031959125279152556710765811933041231560093579764503725882959557959670259388669668548983777738681675190973910773566587454247518604727535322015154117750281046718343134822937729259183039672260321950292329192590684096966369512671941829430195326850338169197607406903661983849343104644580390778170507441862841073146895638580096423773026526522532210166224190238607266584071833368246394985810321459827891746557605862774598928284081024325223810950419267267392315668607319247366189778697463430847059774218186541126144",
                0
            ]
        ]
    }

    const headers = new HttpHeaders({
      "Content-Type": "application/json",
      "x-api-key": api_key
    });

    this.http.post('https://clzngwfhz1.execute-api.eu-west-1.amazonaws.com/test/homomorphic', body, { headers }).subscribe(response => {
      console.log(response)
    }, error => {
      console.log(error)
    });
  }

}
